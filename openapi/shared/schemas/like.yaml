components:
  schemas:
    Like:
      type: object
      description: Represents a user's like on a post or comment.
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the like.
          readOnly: true
        user_id:
          type: string
          format: uuid
          description: ID of the user who liked the content.
          readOnly: true # Set by the server based on the authenticated user
        post_id:
          type: string
          format: uuid
          nullable: true
          description: ID of the post being liked (mutually exclusive with comment_id).
        comment_id:
          type: string
          format: uuid
          nullable: true
          description: ID of the comment being liked (mutually exclusive with post_id).
        created_at:
          type: string
          format: date-time
          description: Timestamp when the like was created.
          readOnly: true
      required:
        - id
        - user_id
        # Either post_id or comment_id must be present. This is a business rule.
        # OpenAPI 3.0 doesn't directly support XOR on properties within a single object schema in a simple way.
        # We make them individually optional here, but the description clarifies the constraint.
        # The backend will enforce that one of them is non-null.
        - created_at
      example:
        id: "d290f1ee-6c54-4b01-90e6-d701748f0851"
        user_id: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
        post_id: "f47ac10b-58cc-4372-a567-0e02b2c3d479"
        comment_id: null
        created_at: "2024-05-10T10:30:00Z"

    ListLikesResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Like'
          description: A list of like objects.
        total:
          type: integer
          format: int32
          description: Total number of likes.
          example: 1
      required:
        - data
        - total
      example:
        data:
          - id: "d290f1ee-6c54-4b01-90e6-d701748f0851"
            user_id: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
            post_id: "f47ac10b-58cc-4372-a567-0e02b2c3d479"
            comment_id: null
            created_at: "2024-05-10T10:30:00Z"
        total: 1
